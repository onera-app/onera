# Onera Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# Supabase — Self-hosted (docker compose)
# ============================================
# Database password for the Supabase Postgres instance
POSTGRES_PASSWORD=your-secure-password

# JWT secret — all Supabase services share this to sign/verify tokens
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-at-least-32-characters

# Anon key — a JWT with role=anon, used by the frontend (publishable)
# Generate at: https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Service role key — a JWT with role=service_role, used by the server (secret)
# Generate at: https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================
# Supabase — Hosted (supabase.com)
# ============================================
# If using hosted Supabase instead of self-hosted, set these instead:
# DATABASE_URL=postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SECRET_KEY=sb_secret_...
# VITE_SUPABASE_URL=https://your-project.supabase.co
# VITE_SUPABASE_PUBLISHABLE_KEY=sb_publishable_...

# ============================================
# Supabase Auth — External URL
# ============================================
# The public URL where Supabase API gateway (Kong) is reachable.
# For local dev: http://localhost:8000
# For production: https://api.yourdomain.com (must match OAuth redirect URIs)
API_EXTERNAL_URL=http://localhost:8000

# The URL users are redirected to after auth flows (your frontend)
SITE_URL=http://localhost:5173

# ============================================
# OAuth Providers (optional)
# ============================================
# GOOGLE_AUTH_ENABLED=true
# GOOGLE_AUTH_CLIENT_ID=your-google-client-id
# GOOGLE_AUTH_CLIENT_SECRET=your-google-client-secret

# APPLE_AUTH_ENABLED=true
# APPLE_AUTH_CLIENT_ID=your-apple-client-id
# APPLE_AUTH_SECRET=your-apple-secret

# ============================================
# URLs
# ============================================
FRONTEND_URL=http://localhost:5173
VITE_API_URL=http://localhost:3000
VITE_WS_URL=http://localhost:3000

# ============================================
# WebAuthn / Passkeys
# ============================================
# Defaults work for local development.
# For production, set these to your domain — passkeys will not work otherwise.
# WEBAUTHN_RP_ID=example.com
# WEBAUTHN_RP_NAME=Onera
# WEBAUTHN_ORIGIN=https://example.com

# ============================================
# Server (optional)
# ============================================
# PORT=3000

# ============================================
# PostHog Analytics (optional)
# ============================================
# VITE_PUBLIC_POSTHOG_KEY=your-posthog-project-api-key
# VITE_PUBLIC_POSTHOG_HOST=https://eu.i.posthog.com

# ============================================
# Testing (optional)
# ============================================
# TEST_OPENAI_API_KEY=sk-your-openai-key-for-e2e-tests
